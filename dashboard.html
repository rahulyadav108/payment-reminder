<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PaymentLoo Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="dashboard-header">
    <h1>PaymentLoo Dashboard</h1>
    <nav>
      <button onclick="logout()">Logout</button>
    </nav>
  </header>

  <section class="dashboard-cards">
    <div class="card">
      <h3>Profile</h3>
      <p>Name: <span id="user-name"></span></p>
      <p>Email: <span id="user-email"></span></p>
    </div>
    <div class="card">
      <h3>Notifications</h3>
      <ul id="notification-list">
        <!-- Admin messages will appear here -->
      </ul>
    </div>
    <div class="card">
      <h3>Your Plan</h3>
      <p id="user-plan">Loading...</p>
    </div>
  </section>

  <section class="dashboard-home">
    <h2>Home Summary</h2>
    <p>Total Debtors Added: <span id="total-debtors">0</span></p>
    <div id="message-history">
      <!-- Message history details -->
    </div>
  </section>

  <section class="dashboard-add-debtor">
    <h2>Add New Debtor</h2>
    <form id="debtor-form">
      <input type="text" id="debtor-name" placeholder="Debtor's Name" required>
      <input type="tel" id="debtor-number" placeholder="Phone Number" required>
      <input type="date" id="due-date" required>
      <select id="message-select">
        <option value="default">Please make the due payment.</option>
        <option value="custom" id="custom-message-option" disabled>Add your custom message</option>
      </select>
      <textarea id="custom-message" placeholder="Enter custom message" style="display:none;"></textarea>
      <button type="submit">Add Debtor</button>
    </form>
  </section>

  <script>
    // Toggle custom message input
    document.getElementById("message-select").addEventListener("change", function () {
      const showCustom = this.value === "custom";
      document.getElementById("custom-message").style.display = showCustom ? "block" : "none";
    });

    // Basic logout function
    function logout() {
      firebase.auth().signOut().then(() => {
        window.location.href = "login.html";
      });
    }

    // Firebase & UI logic will go in app.js
  </script>

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script src="app.js"></script>
</body>
</html>
